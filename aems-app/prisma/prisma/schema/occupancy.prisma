model Occupancy {
    // key
    id              Int            @id @default(autoincrement())
    // metadata
    stage           ModelStage     @default(Create)
    message         String?        @db.VarChar(1024)
    correlation     String?        @db.VarChar(1024)
    createdAt       DateTime       @default(now()) @db.Timestamptz(6)
    updatedAt       DateTime       @updatedAt @db.Timestamptz(6)
    // fields
    label           String         @db.VarChar(1024)
    date            DateTime
    // foreign keys
    scheduleId      Int?
    configurationId Int?
    // direct relations
    schedule        Schedule?      @relation("Occupancies_schedules", fields: [scheduleId], references: [id], onDelete: Cascade)
    configuration   Configuration? @relation("Occupancies_configurations", fields: [configurationId], references: [id], onDelete: Cascade)

    // indices
    @@index([date])
    @@index([stage])
}
