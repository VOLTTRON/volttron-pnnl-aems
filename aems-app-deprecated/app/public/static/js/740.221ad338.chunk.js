"use strict";(self.webpackChunkaems_client=self.webpackChunkaems_client||[]).push([[740],{76740:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var i=t(1413),s=t(4942),a=t(15671),l=t(43144),r=t(60136),d=t(43668),o=t(9418),c=t(37305),u=t(50698),h=t(91540),p=t(763),v=t(36625),g=t(23122),m=t(696),x=t(99574),f=t(72791),j=t(60364),y=t(24824),b=t(72426),C=t.n(b),S=t(80184),L=function(e){(0,r.Z)(t,e);var n=(0,d.Z)(t);function t(e){var i;return(0,a.Z)(this,t),(i=n.call(this,e)).handleChange=function(e,n){return function(t){var a=i.state.editing;return"label"===e?i.setState(void 0===n?{label:t}:{editing:(0,p.merge)(a,{label:t})}):i.setState(void 0===n?(0,s.Z)({},e,t):{editing:(0,p.merge)(a,(0,s.Z)({},e,t))})}},i.handleCreate=function(){var e=i.state,n=e.type,t=e.duration,s=e.message;i.props.createLog({type:n,duration:t,message:s}),i.setState({type:m.hi.BannerType.label,duration:void 0,message:""})},i.handleEdit=function(e){var n=e.id,t=e.type,s=e.message;i.setState({editing:{id:n,type:t,message:s}})},i.handleCancel=function(){i.setState({editing:null})},i.handleSave=function(){var e,n=(null===(e=i.state)||void 0===e?void 0:e.editing)||{},t=n.id,s=n.type,a=n.message;i.props.updateLog({id:t,type:s,message:a}),i.setState({editing:null})},i.handleDelete=function(e){var n=e.id;void 0!==n&&i.props.deleteLog(n)},i.state={type:m.hi.BannerType.label,duration:void 0,message:""},i}return(0,l.Z)(t,[{key:"componentDidMount",value:function(){this.props.readLogs({type:"All"}),this.props.readLogsPoll(y.bW)}},{key:"componentWillUnmount",value:function(){this.props.readLogs({type:m.hi.BannerType.label}),this.props.readLogsPoll(y.bW)}},{key:"render",value:function(){var e=this,n=this.props.filtered,t=this.state,s=t.message,a=t.editing;return(0,S.jsxs)("div",{className:"log",children:[(0,S.jsx)(v.h4,(0,i.Z)({},this.props)),(0,S.jsx)("h2",{children:"Display Banner"}),(0,S.jsx)("div",{className:"create",children:(0,S.jsxs)(o.Zb,{interactive:!0,children:[(0,S.jsx)("div",{}),(0,S.jsx)("div",{children:(0,S.jsx)("b",{children:"Message"})}),(0,S.jsx)("div",{children:(0,S.jsx)("input",{className:c.O4S,type:"text",value:s,onChange:function(n){return e.handleChange("message")(n.target.value)}})}),(0,S.jsx)("div",{children:(0,S.jsx)(o.zx,{icon:g.RPl,intent:u.S.PRIMARY,minimal:!0,onClick:this.handleCreate})})]})}),(0,S.jsx)("h1",{children:"Logs"}),(0,S.jsx)("div",{className:"list",children:null===n||void 0===n?void 0:n.filter((function(e){return e.type!==m.hi.BannerType.label})).map((function(n,t){return(0,p.isFinite)(n.id)&&n.id===(null===a||void 0===a?void 0:a.id)?(0,S.jsxs)(o.Zb,{interactive:!0,children:[(0,S.jsx)("div",{}),(0,S.jsx)("div",{children:(0,S.jsx)(x.p,{content:(0,S.jsx)(o.v2,{children:m.hi.values.filter((function(e){return e.label!==m.hi.BannerType.label})).map((function(t){return(0,S.jsx)(o.sN,{text:t.label,onClick:function(){return e.handleChange("type",n)(t.label)}},t.name)}))}),placement:"bottom-end",children:(0,S.jsx)(o.zx,{rightIcon:g.vv6,minimal:!0,children:n.type})})}),(0,S.jsx)("div",{children:(0,S.jsx)("input",{className:c.O4S,type:"text",value:a.message,onChange:function(t){return e.handleChange("message",n)(t.target.value)}})}),(0,S.jsxs)("div",{children:[(0,S.jsx)(o.zx,{icon:g.$eC,intent:u.S.PRIMARY,minimal:!0,onClick:function(){return e.handleSave()}}),(0,S.jsx)(o.zx,{icon:g.eV6,intent:u.S.PRIMARY,minimal:!0,onClick:function(){return e.handleCancel()}})]})]},n.id||n.sequence||t):(0,S.jsxs)(o.Zb,{interactive:!0,children:[(0,S.jsxs)("div",{children:["[",C()(n.updatedAt).format("YYYY-MM-DD HH:mm:ss"),"]"]}),(0,S.jsx)("div",{children:(0,S.jsx)("b",{children:n.type})}),(0,S.jsx)("div",{children:"".concat(n.message).concat(((null===n||void 0===n?void 0:n.count)||0)>1?" (".concat(n.count,")"):"")}),(0,S.jsxs)("div",{children:[(0,p.isFinite)(n.id)&&(0,S.jsx)(o.zx,{icon:g.dme,intent:u.S.PRIMARY,minimal:!0,onClick:function(){return e.handleEdit(n)}}),(0,p.isFinite)(n.id)&&(0,S.jsx)(o.zx,{icon:g.R4W,intent:u.S.WARNING,minimal:!0,onClick:function(){return e.handleDelete(n)},disabled:n.type===m.hi.BannerType.label})]})]},n.id||n.sequence||t)}))})]})}}]),t}(f.Component),Z={readLogs:h.cg,readLogsPoll:h.up,filterLogs:h.f9,createLog:h.xN,updateLog:h.Hw,deleteLog:h.tD},k=(0,j.$j)((function(e){return{logs:(0,h.s1)(e),filtered:(0,h.nv)(e)}}),Z)(L),R=t(9153),N=function(e){return(0,S.jsx)(R.Z,(0,i.Z)((0,i.Z)({},e),{},{renderRoute:function(e){return(0,S.jsx)(k,(0,i.Z)({},e))}}))}}}]);
//# sourceMappingURL=740.221ad338.chunk.js.map