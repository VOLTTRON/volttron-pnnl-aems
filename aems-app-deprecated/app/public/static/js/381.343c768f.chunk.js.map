{"version":3,"file":"static/js/381.343c768f.chunk.js","mappings":"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","sources":["utils/unit.ts","routes/Units/Unit.tsx"],"sourcesContent":["import { IUnit } from \"controllers/units/action\";\nimport { ValidateType } from \"common\";\nimport moment from \"moment\";\nimport { sum } from \"lodash\";\nimport { DeepPartial } from \"./types\";\n\nconst COOLING_CAPACITY_MIN = ValidateType.CoolingCapacityType.options?.min as number;\nconst COOLING_CAPACITY_MAX = ValidateType.CoolingCapacityType.options?.max as number;\n\nconst COMPRESSORS_MIN = ValidateType.CompressorsType.options?.min as number;\nconst COMPRESSORS_MAX = ValidateType.CompressorsType.options?.max as number;\n\nconst COOLING_LOCKOUT_MIN = ValidateType.CoolingLockoutType.options?.min as number;\nconst COOLING_LOCKOUT_MAX = ValidateType.CoolingLockoutType.options?.max as number;\n\nconst OPTIMAL_START_LOCKOUT_MIN = ValidateType.OptimalStartLockoutType.options?.min as number;\nconst OPTIMAL_START_LOCKOUT_MAX = ValidateType.OptimalStartLockoutType.options?.max as number;\n\nconst OPTIMAL_START_DEVIATION_MIN = ValidateType.OptimalStartDeviationType.options?.min as number;\nconst OPTIMAL_START_DEVIATION_MAX = ValidateType.OptimalStartDeviationType.options?.max as number;\n\nconst EARLIEST_START_MIN = ValidateType.EarliestStartType.options?.min as number;\nconst EARLIEST_START_MAX = ValidateType.EarliestStartType.options?.max as number;\n\nconst LATEST_START_MIN = ValidateType.LatestStartType.options?.min as number;\nconst LATEST_START_MAX = ValidateType.LatestStartType.options?.max as number;\n\nconst HEAT_PUMP_BACKUP_MIN = ValidateType.HeatPumpBackupType.options?.min as number;\nconst HEAT_PUMP_BACKUP_MAX = ValidateType.HeatPumpBackupType.options?.max as number;\n\nconst HEAT_PUMP_LOCKOUT_MIN = ValidateType.HeatPumpLockoutType.options?.min as number;\nconst HEAT_PUMP_LOCKOUT_MAX = ValidateType.HeatPumpLockoutType.options?.max as number;\n\nconst COOLING_PEAK_OFFSET_MIN = ValidateType.CoolingPeakOffsetType.options?.min as number;\nconst COOLING_PEAK_OFFSET_MAX = ValidateType.CoolingPeakOffsetType.options?.max as number;\n\nconst HEATING_PEAK_OFFSET_MIN = ValidateType.HeatingPeakOffsetType.options?.min as number;\nconst HEATING_PEAK_OFFSET_MAX = ValidateType.HeatingPeakOffsetType.options?.max as number;\n\nconst ECONOMIZER_SETPOINT_MIN = ValidateType.EconomizerSetpoint.options?.min as number;\nconst ECONOMIZER_SETPOINT_MAX = ValidateType.EconomizerSetpoint.options?.max as number;\n\nconst createUnitLabel = (unit: DeepPartial<IUnit>) => {\n  return moment().format(\"dddd, MMMM Do YYYY\");\n};\n\nconst isDelete = (unit: DeepPartial<IUnit>) => {\n  return sum(Object.values(unit?._count || {})) === 0;\n};\n\nexport {\n  createUnitLabel,\n  isDelete,\n  COOLING_CAPACITY_MIN,\n  COOLING_CAPACITY_MAX,\n  COMPRESSORS_MIN,\n  COMPRESSORS_MAX,\n  COOLING_LOCKOUT_MIN,\n  COOLING_LOCKOUT_MAX,\n  OPTIMAL_START_LOCKOUT_MIN,\n  OPTIMAL_START_LOCKOUT_MAX,\n  OPTIMAL_START_DEVIATION_MIN,\n  OPTIMAL_START_DEVIATION_MAX,\n  EARLIEST_START_MIN,\n  EARLIEST_START_MAX,\n  LATEST_START_MIN,\n  LATEST_START_MAX,\n  HEAT_PUMP_BACKUP_MIN,\n  HEAT_PUMP_BACKUP_MAX,\n  HEAT_PUMP_LOCKOUT_MIN,\n  HEAT_PUMP_LOCKOUT_MAX,\n  COOLING_PEAK_OFFSET_MIN,\n  COOLING_PEAK_OFFSET_MAX,\n  HEATING_PEAK_OFFSET_MIN,\n  HEATING_PEAK_OFFSET_MAX,\n  ECONOMIZER_SETPOINT_MIN,\n  ECONOMIZER_SETPOINT_MAX,\n};\n","import {\n  Button,\n  HandleInteractionKind,\n  HandleType,\n  InputGroup,\n  Intent,\n  Label,\n  Menu,\n  MenuItem,\n  MultiSlider,\n  NumericInput,\n  Spinner,\n  Tag,\n} from \"@blueprintjs/core\";\nimport {\n  COMPRESSORS_MAX,\n  COMPRESSORS_MIN,\n  COOLING_CAPACITY_MAX,\n  COOLING_CAPACITY_MIN,\n  COOLING_LOCKOUT_MAX,\n  COOLING_LOCKOUT_MIN,\n  COOLING_PEAK_OFFSET_MAX,\n  COOLING_PEAK_OFFSET_MIN,\n  EARLIEST_START_MAX,\n  EARLIEST_START_MIN,\n  ECONOMIZER_SETPOINT_MAX,\n  ECONOMIZER_SETPOINT_MIN,\n  HEATING_PEAK_OFFSET_MAX,\n  HEATING_PEAK_OFFSET_MIN,\n  HEAT_PUMP_BACKUP_MAX,\n  HEAT_PUMP_BACKUP_MIN,\n  HEAT_PUMP_LOCKOUT_MAX,\n  HEAT_PUMP_LOCKOUT_MIN,\n  LATEST_START_MAX,\n  LATEST_START_MIN,\n  OPTIMAL_START_DEVIATION_MAX,\n  OPTIMAL_START_DEVIATION_MIN,\n  OPTIMAL_START_LOCKOUT_MAX,\n  OPTIMAL_START_LOCKOUT_MIN,\n} from \"utils/unit\";\nimport { get, merge } from \"lodash\";\nimport { useCallback, useState, useEffect, useRef } from \"react\";\n\nimport { DeepPartial } from \"../../utils/types\";\nimport { IUnit } from \"controllers/units/action\";\nimport { IconNames } from \"@blueprintjs/icons\";\nimport { Popover2, Tooltip2 } from \"@blueprintjs/popover2\";\nimport { Select } from \"@blueprintjs/select\";\nimport { IEnum } from \"common/types\";\nimport { ZoneType } from \"common\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  readLocationsSearch,\n  queryLocationsSearch,\n  selectLocationsSearch,\n  selectQueryLocationsSearch,\n  ILocation,\n} from \"controllers/locations/action\";\nimport { selectQueryLocationsSearchBusy } from \"controllers/locations/action\";\nimport { BUSY_USER } from \"controllers/busy/action\";\n\nexport function Unit(props: {\n  unit: DeepPartial<IUnit> | IUnit;\n  editing: DeepPartial<IUnit> | null;\n  handleChange: (field: string, unit?: DeepPartial<IUnit> | null) => (value: any) => void;\n  hidden?: Array<string>;\n}) {\n  const { hidden, unit, editing, handleChange } = props;\n\n  const searchRef = useRef(null);\n\n  const [temp, setTemp] = useState({} as any);\n  const [query, setQuery] = useState(\"\");\n\n  const getValue = useCallback((field: string) => get(editing, field, get(unit, field)), [editing, unit]);\n\n  const searchInfo = useSelector(selectLocationsSearch);\n  const queryResults = useSelector(selectQueryLocationsSearch);\n  const queryBusy = useSelector(selectQueryLocationsSearchBusy);\n\n  const dispatch = useDispatch();\n  useEffect(() => dispatch(readLocationsSearch()), [dispatch]);\n  useEffect(\n    () => (searchInfo?.autoComplete ? dispatch(queryLocationsSearch({ auto: true, search: query })) : undefined),\n    [dispatch, query, searchInfo]\n  );\n\n  const mapUrl = getValue(`location`)\n    ? `https://www.google.com/maps/search/?api=1&query=${getValue(`location.latitude`)},${getValue(\n        `location.longitude`\n      )}`\n    : `https://www.google.com/maps/@?api=1&map_action=map`;\n\n  const renderLocation = (props: any, label: string, path: string) => {\n    const location = getValue(path) as ILocation | null | undefined;\n    if (searchInfo === undefined) {\n      return (\n        <Label>\n          <b>Location...</b>\n          <Spinner intent={Intent.PRIMARY} />\n        </Label>\n      );\n    } else if (searchInfo.autoComplete || searchInfo.addressSearch) {\n      return (\n        <Label>\n          <b>Location Search</b>\n          <Select\n            items={queryResults ?? []}\n            itemRenderer={(v, { handleClick, modifiers }) => (\n              <MenuItem\n                active={location?.name === (v.display_name ?? v.name)}\n                disabled={modifiers.disabled}\n                key={v.name}\n                text={v.display_name ?? v.name}\n                onClick={() => handleClick(v)}\n                onMouseDown={(e) => e.preventDefault()}\n              />\n            )}\n            onItemSelect={(v): any =>\n              handleChange(\n                path,\n                editing\n              )({ name: v.display_name ?? v.name, latitude: parseFloat(v.lat), longitude: parseFloat(v.lon) })\n            }\n            noResults={<MenuItem disabled={true} text=\"No results\" />}\n            filterable={false}\n            popoverProps={{\n              isOpen: searchRef.current === document.activeElement,\n              autoFocus: false,\n            }}\n          >\n            <InputGroup\n              inputRef={searchRef}\n              type=\"text\"\n              value={query}\n              onChange={(e) => setQuery(e.target.value)}\n              rightElement={\n                searchInfo.addressSearch ? (\n                  <Button\n                    icon={IconNames.SEARCH}\n                    minimal\n                    onClick={() => dispatch(queryLocationsSearch({ search: query }))}\n                    loading={get(queryBusy, \"type\") === BUSY_USER}\n                    autoFocus={false}\n                  />\n                ) : undefined\n              }\n              onKeyDown={(k) => (k.key === \"Enter\" ? dispatch(queryLocationsSearch({ search: query })) : null)}\n            />\n          </Select>\n        </Label>\n      );\n    } else {\n      return (\n        <Label>\n          <b>Location Update</b>\n          <InputGroup\n            type=\"text\"\n            value={location?.name ?? \"\"}\n            onChange={(e) => {\n              handleChange(`${path}.name`, editing)(e.target.value);\n            }}\n          />\n          {renderNumeric(props, \"Longitude\", -180, 180, `${path}.longitude`, undefined, true)}\n          {renderNumeric(props, \"Latitude\", -90, 90, `${path}.latitude`, undefined, true)}\n        </Label>\n      );\n    }\n  };\n\n  const renderNumeric = (\n    props: any,\n    label: string,\n    min: number,\n    max: number,\n    path: string,\n    element?: any,\n    fractions?: boolean\n  ) => {\n    let value = temp[path];\n    if (value === undefined) {\n      value = getValue(path);\n    }\n    return (\n      <Label>\n        <b>{label}</b>\n        <NumericInput\n          {...props}\n          step={fractions ? 0.5 : 1}\n          {...(fractions && { minorStepSize: 0.0001 })}\n          min={min}\n          max={max}\n          value={value}\n          onValueChange={(v, s) => {\n            if (fractions) {\n              setTemp(merge({}, temp, { [path]: s }));\n            }\n            handleChange(path, editing)(v);\n          }}\n          rightElement={element}\n          clampValueOnBlur\n        />\n      </Label>\n    );\n  };\n\n  const renderTemperature = (props: any, label: string, min: number, max: number, step: number, path: string) => {\n    return (\n      <Label>\n        <b>{label}</b>\n        <MultiSlider\n          {...props}\n          min={min}\n          max={max}\n          stepSize={0.5}\n          labelStepSize={step}\n          labelRenderer={(v, o) => (o?.isHandleTooltip || (v > min && v < max) ? `${v}º\\xa0F` : \"\")}\n        >\n          <MultiSlider.Handle\n            type={HandleType.FULL}\n            interactionKind={HandleInteractionKind.LOCK}\n            value={getValue(path)}\n            onChange={(v) => {\n              handleChange(path, editing)(v);\n            }}\n          />\n        </MultiSlider>\n      </Label>\n    );\n  };\n\n  const renderDuration = (props: any, label: string, min: number, max: number, step: number, path: string) => {\n    return (\n      <Label>\n        <b>{label}</b>\n        <MultiSlider\n          {...props}\n          min={min}\n          max={max}\n          stepSize={5}\n          labelStepSize={step}\n          labelRenderer={(v, o) => (o?.isHandleTooltip || (v > min && v < max) ? `${v}\\xa0min` : \"\")}\n        >\n          <MultiSlider.Handle\n            type={HandleType.FULL}\n            interactionKind={HandleInteractionKind.LOCK}\n            value={getValue(path)}\n            onChange={(v) => {\n              handleChange(path, editing)(v);\n            }}\n          />\n        </MultiSlider>\n      </Label>\n    );\n  };\n\n  const renderSelect = (\n    props: any,\n    label: string,\n    values: Array<IEnum<any> | { name: any; label: string }>,\n    path: string,\n    transform?: (v: string) => any\n  ) => {\n    return (\n      <Label>\n        <b>{label}</b>\n        <Popover2\n          content={\n            <Menu>\n              {values?.map((value) => (\n                <MenuItem\n                  key={value.label}\n                  text={value.label}\n                  onClick={() => handleChange(path, editing)(value.name)}\n                />\n              ))}\n            </Menu>\n          }\n          placement=\"bottom-start\"\n        >\n          <Button {...props} rightIcon={IconNames.CARET_DOWN} minimal>\n            {transform ? transform(getValue(path)) : getValue(path)}\n          </Button>\n        </Popover2>\n      </Label>\n    );\n  };\n\n  // const renderCheckbox = (\n  //   props: any,\n  //   label: string,\n  //   path: string,\n  //   description: (value: boolean) => string,\n  //   reversed?: boolean\n  // ) => {\n  //   const value = getValue(path);\n  //   return (\n  //     <Label>\n  //       <b>{label}</b>\n  //       <Checkbox\n  //         {...props}\n  //         label={description(value)}\n  //         checked={reversed ? !value : value}\n  //         onClick={() => handleChange(path, unit)(reversed ? value : !value)}\n  //       />\n  //     </Label>\n  //   );\n  // };\n\n  return (\n    <>\n      {hidden?.includes(\"label\") ? null : (\n        <div className=\"row\">\n          <h3> </h3>\n          <div className=\"unit\">\n            <Label>\n              <b>Unit Label</b>\n              <InputGroup\n                type=\"text\"\n                value={getValue(`label`)}\n                onChange={(e) => {\n                  handleChange(`label`, editing)(e.target.value);\n                }}\n              />\n            </Label>\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"location\") ? null : (\n        <div className=\"row\">\n          <div>\n            <Label>\n              <b>Unit Location</b>\n              <InputGroup\n                className=\"tooltip-icon\"\n                type=\"text\"\n                value={getValue(`location.name`) ?? \"No location set\"}\n                readOnly\n                rightElement={\n                  <Tooltip2 content={mapUrl}>\n                    <Button icon={IconNames.MAP} onClick={() => window.open(mapUrl, \"_blank\")} minimal />\n                  </Tooltip2>\n                }\n              />\n            </Label>\n          </div>\n          <div>{renderLocation({}, \"Unit Location\", `location`)}</div>\n        </div>\n      )}\n      {hidden?.includes(\"peakLoadExclude\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Participate in Grid Services\",\n              [\n                { name: false, label: \"Yes\" },\n                { name: true, label: \"No\" },\n              ],\n              `peakLoadExclude`,\n              (v) => (v ? \"No\" : \"Yes\")\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"coolingPeakOffset\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              getValue(\"peakLoadExclude\") ? { disabled: true } : {},\n              \"Cooling Offset During Grid Services\",\n              COOLING_PEAK_OFFSET_MIN,\n              COOLING_PEAK_OFFSET_MAX,\n              1,\n              `coolingPeakOffset`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"heatingPeakOffset\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              getValue(\"peakLoadExclude\") ? { disabled: true } : {},\n              \"Heating Offset During Grid Services\",\n              HEATING_PEAK_OFFSET_MIN,\n              HEATING_PEAK_OFFSET_MAX,\n              1,\n              `heatingPeakOffset`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"zoneLocation\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Zone Location\",\n              ZoneType.values.filter((v) => v.type === \"location\"),\n              `zoneLocation`,\n              (v) => ZoneType.parse(v)?.label || v\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"zoneMass\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Zone Mass\",\n              ZoneType.values.filter((v) => v.type === \"mass\"),\n              `zoneMass`,\n              (v) => ZoneType.parse(v)?.label || v\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"zoneOrientation\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Zone Orientation\",\n              ZoneType.values.filter((v) => v.type === \"orientation\"),\n              `zoneOrientation`,\n              (v) => ZoneType.parse(v)?.label || v\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"zoneBuilding\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Zone Type\",\n              ZoneType.values.filter((v) => v.type === \"building\"),\n              `zoneBuilding`,\n              (v) => ZoneType.parse(v)?.label || v\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"coolingCapacity\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderNumeric(\n              {},\n              \"Rated Cooling Capacity\",\n              COOLING_CAPACITY_MIN,\n              COOLING_CAPACITY_MAX,\n              `coolingCapacity`,\n              <Tag minimal>tons</Tag>,\n              true\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"compressors\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderNumeric({}, \"Number of Compressors\", COMPRESSORS_MIN, COMPRESSORS_MAX, `compressors`)}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"optimalStartLockout\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              {},\n              \"Disable Optimal Start when Outdoor Temperatures are below\",\n              OPTIMAL_START_LOCKOUT_MIN,\n              OPTIMAL_START_LOCKOUT_MAX,\n              5,\n              `optimalStartLockout`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"optimalStartDeviation\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              {},\n              \"Optimal Start Allowable Zone Temperature Deviation\",\n              OPTIMAL_START_DEVIATION_MIN,\n              OPTIMAL_START_DEVIATION_MAX,\n              0.5,\n              `optimalStartDeviation`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"earliestStart\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderDuration(\n              {},\n              \"Earliest Start Time Before Occupancy\",\n              EARLIEST_START_MIN,\n              EARLIEST_START_MAX,\n              30,\n              `earliestStart`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"latestStart\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderDuration(\n              {},\n              \"Latest Start Time Before Occupancy\",\n              LATEST_START_MIN,\n              LATEST_START_MAX,\n              15,\n              `latestStart`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"heatPump\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Heat Pump\",\n              [\n                { name: true, label: \"Yes\" },\n                { name: false, label: \"No\" },\n              ],\n              `heatPump`,\n              (v) => (v ? \"Yes\" : \"No\")\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"heatPumpBackup\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderNumeric(\n              getValue(\"heatPump\") ? {} : { disabled: true },\n              \"Heat Pump Electric Backup Capacity\",\n              HEAT_PUMP_BACKUP_MIN,\n              HEAT_PUMP_BACKUP_MAX,\n              `heatPumpBackup`,\n              <Tag minimal>kW</Tag>,\n              true\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"heatPumpLockout\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              getValue(\"heatPump\") ? {} : { disabled: true },\n              \"Heat Pump Auxiliary Heat Lockout\",\n              HEAT_PUMP_LOCKOUT_MIN,\n              HEAT_PUMP_LOCKOUT_MAX,\n              8,\n              `heatPumpLockout`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"economizer\") ? null : (\n        <div className=\"row\">\n          <div className=\"select\">\n            {renderSelect(\n              {},\n              \"Economizer\",\n              [\n                { name: true, label: \"Yes\" },\n                { name: false, label: \"No\" },\n              ],\n              `economizer`,\n              (v) => (v ? \"Yes\" : \"No\")\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"economizerSetpoint\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              getValue(\"economizer\") ? {} : { disabled: true },\n              \"Economizer Switchover Temperature Setpoint\",\n              ECONOMIZER_SETPOINT_MIN,\n              ECONOMIZER_SETPOINT_MAX,\n              5,\n              `economizerSetpoint`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n      {hidden?.includes(\"coolingLockout\") ? null : (\n        <div className=\"row\">\n          <div className=\"unit\">\n            {renderTemperature(\n              getValue(\"economizer\") ? {} : { disabled: true },\n              \"Compressor Cooling Lockout Temperature\",\n              COOLING_LOCKOUT_MIN,\n              COOLING_LOCKOUT_MAX,\n              5,\n              `coolingLockout`\n            )}\n          </div>\n          <div />\n          <div />\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":["COOLING_CAPACITY_MIN","ValidateType","min","COOLING_CAPACITY_MAX","max","COMPRESSORS_MIN","COMPRESSORS_MAX","COOLING_LOCKOUT_MIN","COOLING_LOCKOUT_MAX","OPTIMAL_START_LOCKOUT_MIN","OPTIMAL_START_LOCKOUT_MAX","OPTIMAL_START_DEVIATION_MIN","OPTIMAL_START_DEVIATION_MAX","EARLIEST_START_MIN","EARLIEST_START_MAX","LATEST_START_MIN","LATEST_START_MAX","HEAT_PUMP_BACKUP_MIN","HEAT_PUMP_BACKUP_MAX","HEAT_PUMP_LOCKOUT_MIN","HEAT_PUMP_LOCKOUT_MAX","COOLING_PEAK_OFFSET_MIN","COOLING_PEAK_OFFSET_MAX","HEATING_PEAK_OFFSET_MIN","HEATING_PEAK_OFFSET_MAX","ECONOMIZER_SETPOINT_MIN","ECONOMIZER_SETPOINT_MAX","Unit","props","hidden","unit","editing","handleChange","searchRef","useRef","useState","temp","setTemp","query","setQuery","getValue","useCallback","field","get","searchInfo","useSelector","selectLocationsSearch","queryResults","selectQueryLocationsSearch","queryBusy","selectQueryLocationsSearchBusy","dispatch","useDispatch","useEffect","readLocationsSearch","autoComplete","queryLocationsSearch","auto","search","undefined","mapUrl","renderNumeric","label","path","element","fractions","value","step","minorStepSize","onValueChange","v","s","merge","rightElement","clampValueOnBlur","renderTemperature","stepSize","labelStepSize","labelRenderer","o","isHandleTooltip","type","HandleType","interactionKind","HandleInteractionKind","onChange","renderDuration","renderSelect","values","transform","content","map","text","onClick","name","placement","rightIcon","IconNames","minimal","includes","className","e","target","readOnly","icon","window","open","location","intent","Intent","addressSearch","items","itemRenderer","handleClick","modifiers","active","display_name","disabled","onMouseDown","preventDefault","onItemSelect","latitude","parseFloat","lat","longitude","lon","noResults","filterable","popoverProps","isOpen","current","document","activeElement","autoFocus","inputRef","loading","BUSY_USER","onKeyDown","k","key","renderLocation","ZoneType"],"sourceRoot":""}