ARG VOLTTRON_CAMPUS=${VOLTTRON_CAMPUS}
ARG VOLTTRON_BUILDING=${VOLTTRON_BUILDING}
ARG VOLTTRON_PREFIX=${VOLTTRON_PREFIX}
ARG VOLTTRON_GATEWAY_ADDRESS=${VOLTTRON_GATEWAY_ADDRESS}
ARG VOLTTRON_TIMEZONE=${VOLTTRON_TIMEZONE}
ARG GRAFANA_DB_NAME=${GRAFANA_DB_NAME}
ARG GRAFANA_DB_USER=${GRAFANA_DB_USER}
ARG GRAFANA_DB_PASSWORD=${GRAFANA_DB_PASSWORD}
ARG GRAFANA_DB_HOST=${GRAFANA_DB_HOST}
ARG GRAFANA_DB_PORT=${GRAFANA_DB_PORT}
FROM python:3
# arguments
ARG HTTP_PROXY
ARG HTTPS_PROXY
ARG NO_PROXY

ENV HTTP_PROXY=${HTTP_PROXY}
ENV HTTPS_PROXY=${HTTPS_PROXY}
ENV NO_PROXY=${NO_PROXY}

# Copy the scripts
WORKDIR /home/user/
COPY . .

# Make setup script executable and run it
WORKDIR /home/user/
RUN chmod +x setup.sh

CMD ["./setup.sh"]
