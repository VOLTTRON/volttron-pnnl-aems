"use strict";(self.webpackChunkaems_client=self.webpackChunkaems_client||[]).push([[558],{64558:function(n,e,t){t.r(e),t.d(e,{default:function(){return j}});var i=t(1413),a=t(15671),o=t(43144),u=t(60136),r=t(43668),d=t(51976),c=t(37305),l=t(50698),s=t(4481),f=t(63032),h=t(36625),p=t(23122),v=t(72791),m=t(60364),g=t(763),b=t(80184),y=function(n){(0,u.Z)(t,n);var e=(0,r.Z)(t);function t(n){var i;return(0,a.Z)(this,t),(i=e.call(this,n)).handleChange=function(n,e){return function(t){var a=i.state.editing;if("label"===n)return i.setState(void 0===e?{label:t}:{editing:(0,g.merge)(a,{label:t})})}},i.handleCreate=function(){var n=i.state.label,e=(0,f.ER)(n);i.props.createConfiguration(e),i.setState({label:(0,f.LK)({}),editing:null})},i.handleEdit=function(n){var e=n.id,t=n.label;i.setState({editing:{id:e,label:t}})},i.handleCancel=function(){i.setState({editing:null})},i.handleSave=function(){var n,e=null===(n=i.state)||void 0===n?void 0:n.editing,t=e.id,a=e.label;i.props.updateConfiguration({id:t,label:a}),i.setState({editing:null})},i.handleDelete=function(n){var e=n.id;void 0!==e&&i.props.deleteConfiguration(e)},i.state={label:(0,f.LK)({}),editing:null},i}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.props.readConfigurations()}},{key:"render",value:function(){var n=this,e=this.props.filtered,t=this.state,a=t.label,o=t.editing;return(0,b.jsxs)("div",{className:"configuration",children:[(0,b.jsx)(h.h4,(0,i.Z)({},this.props)),(0,b.jsx)("h2",{children:"Create Configuration"}),(0,b.jsx)("div",{className:"create",children:(0,b.jsxs)(d.Zb,{interactive:!0,children:[(0,b.jsx)("div",{children:(0,b.jsx)("input",{className:c.O4S,type:"text",value:a,onChange:function(e){return n.handleChange("label")(e.target.value)}})}),(0,b.jsx)("div",{children:(0,b.jsx)(d.zx,{icon:p.RPl,intent:l.S.PRIMARY,minimal:!0,onClick:this.handleCreate})})]})}),(0,b.jsx)("h1",{children:"Configurations"}),(0,b.jsx)("div",{className:"list",children:null===e||void 0===e?void 0:e.map((function(e,t){return e.id===(null===o||void 0===o?void 0:o.id)?(0,b.jsxs)(d.Zb,{interactive:!0,children:[(0,b.jsx)("div",{children:(0,b.jsx)("input",{className:c.O4S,type:"text",value:o.label,onChange:function(t){return n.handleChange("label",e)(t.target.value)}})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.zx,{icon:p.$eC,intent:l.S.PRIMARY,minimal:!0,onClick:function(){return n.handleSave()}}),(0,b.jsx)(d.zx,{icon:p.eV6,intent:l.S.PRIMARY,minimal:!0,onClick:function(){return n.handleCancel()}})]})]},e.id||t):(0,b.jsxs)(d.Zb,{interactive:!0,children:[(0,b.jsx)("div",{children:e.label}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d.zx,{icon:p.dme,intent:l.S.PRIMARY,minimal:!0,onClick:function(){return n.handleEdit(e)}}),(0,b.jsx)(d.zx,{icon:p.R4W,intent:l.S.WARNING,minimal:!0,onClick:function(){return n.handleDelete(e)},disabled:!(0,f.kI)(e)})]})]},e.id||t)}))})]})}}]),t}(v.Component),x={readConfigurations:s.uu,filterConfigurations:s.Y7,createConfiguration:s.Gx,updateConfiguration:s.a3,deleteConfiguration:s.Xc},T=(0,m.$j)((function(n){return{configurations:(0,s.yp)(n),filtered:(0,s.Of)(n)}}),x)(y),C=t(9153),j=function(n){return(0,b.jsx)(C.Z,(0,i.Z)((0,i.Z)({},n),{},{renderRoute:function(n){return(0,b.jsx)(T,(0,i.Z)({},n))}}))}},63032:function(n,e,t){t.d(e,{LK:function(){return c},ER:function(){return s},kI:function(){return l}});var i=t(11436),a=t(5476),o=t(696),u=t(72426),r=t.n(u),d=t(763),c=function(n){return r()().format("dddd, MMMM Do YYYY")},l=function(n){return 0===(0,d.sum)(Object.values((null===n||void 0===n?void 0:n._count)||{}))},s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c(),e={label:"",setpoint:i.Qf,deadband:i.tz,heating:i.cF,cooling:i.tE};e.label=(0,i.hD)("all",e);var t={label:"",occupied:!0,startTime:(0,a.cz)(a.S$),endTime:(0,a.cz)(a.Be)};t.label=(0,a.sG)("all",t);var u={label:"",occupied:!1,startTime:(0,a.cz)(a.S$),endTime:(0,a.cz)(a.Be)};u.label=(0,a.sG)("all",u);var r=[o.R$.NewYearsDayType,o.R$.MartinLutherKingJrType,o.R$.PresidentsDayType,o.R$.MemorialDayType,o.R$.JuneteenthType,o.R$.IndependenceDayType,o.R$.LaborDayType,o.R$.ColumbusDayType,o.R$.VeteransDayType,o.R$.ThanksgivingType,o.R$.BlackFridayType,o.R$.ChristmasType].map((function(n){return n.name})),d=o.R$.values.map((function(n){return{label:n.label,type:r.includes(n.name)?"Enabled":"Disabled"}}));return{label:n,setpoint:e,mondaySchedule:t,tuesdaySchedule:t,wednesdaySchedule:t,thursdaySchedule:t,fridaySchedule:t,saturdaySchedule:u,sundaySchedule:u,holidaySchedule:u,holidays:d}}},5476:function(n,e,t){t.d(e,{Ls:function(){return u},lL:function(){return r},S$:function(){return d},QM:function(){return c},Be:function(){return l},cz:function(){return h},li:function(){return p},xM:function(){return v},sG:function(){return m},zo:function(){return g}});var i=t(763),a=t(72426),o=t.n(a),u=120,r=0,d=480,c=1440,l=1080,s="HH:mm",f="h:mm\xa0a",h=function(n){return o()("00:00",[s]).add(Math.trunc(n/60),"hours").add(n%60,"minutes").format(s)},p=function(n){return o()("00:00",[s]).add(Math.trunc(n/60),"hours").add(n%60,"minutes").format(f)},v=function(n,e){return 60*function(n,e,t){return t&&0===n?e:n}(o()(n,[s,f]).hours(),24,e)+o()(n,[s,f]).minutes()},m=function(n,e){var t=void 0===(null===e||void 0===e?void 0:e.occupied)||e.occupied,a=(0,i.isNumber)(e.startTime)?e.startTime:v(e.startTime,!1),o=(0,i.isNumber)(e.endTime)?e.endTime:v(e.endTime,!0);switch(n){case"startTime":return"".concat(p(a));case"endTime":return"".concat(p(o));default:return t?0===a&&1440===o?"Occupied All Day":"Occupied From Start Time: ".concat(p(a)," To End Time: ").concat(p(o)):"Unoccupied All Day"}},g=function(n){return 0===(0,i.sum)(Object.values((null===n||void 0===n?void 0:n._count)||{}))}},11436:function(n,e,t){t.d(e,{ax:function(){return h},bM:function(){return p},iz:function(){return v},tz:function(){return m},op:function(){return g},cF:function(){return b},Ig:function(){return y},tE:function(){return x},QG:function(){return T},Of:function(){return C},Qf:function(){return j},hD:function(){return S},qr:function(){return R},hQ:function(){return D},L5:function(){return $}});var i,a,o,u,r,d,c,l,s=t(763),f=t(696),h=parseInt("2"),p=(null===(i=f.g9.DeadbandType.options)||void 0===i?void 0:i.min)||2,v=(null===(a=f.g9.DeadbandType.options)||void 0===a?void 0:a.max)||6,m=(null===(o=f.g9.DeadbandType.options)||void 0===o?void 0:o.default)||4,g=(null===(u=f.g9.HeatingType.options)||void 0===u?void 0:u.min)||55,b=(null===(r=f.g9.HeatingType.options)||void 0===r?void 0:r.default)||60,y=(null===(d=f.g9.CoolingType.options)||void 0===d?void 0:d.max)||85,x=(null===(c=f.g9.CoolingType.options)||void 0===c?void 0:c.default)||80,T=g,C=y,j=(null===(l=f.g9.SetpointType.options)||void 0===l?void 0:l.default)||70,S=function n(e,t){return"all"===e?"Occupied Setpoint: ".concat(n("setpoint",t)," Deadband: ").concat(n("deadband",t)," Unoccupied Heating: ").concat(n("heating",t)," Cooling: ").concat(n("cooling",t)):"".concat(t[e],"\xba\xa0F")},R=function(n){return n.deadband<p||n.deadband>v?"Deadband must be in the range [".concat(p,",").concat(v,"]."):n.setpoint<n.heating+h+n.deadband/2||n.setpoint>n.cooling-h-n.deadband/2?"Occupied setpoint must be in the range [".concat(n.heating+h+n.deadband/2,",").concat(n.cooling-h-n.deadband/2,"]"):n.heating<g||n.cooling>y?"Unoccupied heating and cooling must be in the range [".concat(g,",").concat(y,"]"):n.setpoint%.5!==0?"Occupied setpoint must be a whole or half degree.":n.deadband%1!==0?"Deadband must be a whole degree.":n.heating%.5!==0||n.cooling%.5!==0?"Unoccupied heating or cooling must be a whole or half degree.":void 0},D=function(n){return!!(n&&(0,s.isNumber)(n.setpoint)&&(0,s.isNumber)(n.deadband)&&(0,s.isNumber)(n.heating)&&(0,s.isNumber)(n.cooling))&&void 0===R(n)},$=function(n){return 0===(0,s.sum)(Object.values((null===n||void 0===n?void 0:n._count)||{}))}}}]);
//# sourceMappingURL=558.972ad582.chunk.js.map